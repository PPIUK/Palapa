{"version":3,"sources":["ScrollViewGesture.tsx"],"names":["IScrollViewGesture","props","React","useContext","CTX","vertical","style","data","pagingEnabled","snapEnabled","panGestureHandlerProps","infinite","loop","scrollAnimationDuration","withAnimation","enabled","translation","size","onScrollBegin","onScrollEnd","onTouchBegin","onTouchEnd","maxPage","length","isHorizontal","touching","scrollEndTranslation","scrollEndVelocity","_withSpring","useCallback","toValue","onFinished","callback","isFinished","runOnJS","defaultWithAnimation","type","config","duration","easing","Easing","easeOutQuart","dealWithAnimation","endWithSpring","origin","value","velocity","nextPage","Math","round","deceleration","page","velocityPage","finalPage","min","max","withDecay","onFinish","activeDecay","resetBoundary","panGestureEventHandler","onStart","_","ctx","validStart","panOffset","onActive","e","translationX","translationY","panTranslation","boundary","fixed","dynamic","cancelAnimation","onEnd","velocityX","velocityY","directionStyle","useMemo","styles","contentHorizontal","contentVertical","container","children","ScrollViewGesture","StyleSheet","create","flex","overflow","flexDirection"],"mappings":"6PAAA,oDACA,yCACA,uEAIA,uFASA,sCACA,8BAEA,4D,2mCAmBA,GAAMA,CAAAA,kBAAmC,CAAG,QAAtCA,CAAAA,kBAAsC,CAACC,KAAD,CAAW,CACnD,sBAaIC,eAAMC,UAAN,CAAiBC,UAAjB,CAbJ,yCACIH,KADJ,CAEQI,QAFR,uBAEQA,QAFR,CAGQC,KAHR,uBAGQA,KAHR,CAIQC,IAJR,uBAIQA,IAJR,CAKQC,aALR,uBAKQA,aALR,CAMQC,WANR,uBAMQA,WANR,CAOQC,sBAPR,uBAOQA,sBAPR,CAQcC,QARd,uBAQQC,IARR,CASQC,uBATR,uBASQA,uBATR,CAUQC,aAVR,uBAUQA,aAVR,CAWQC,OAXR,uBAWQA,OAXR,CAeA,GACIC,CAAAA,WADJ,CAOIf,KAPJ,CACIe,WADJ,CAEIC,IAFJ,CAOIhB,KAPJ,CAEIgB,IAFJ,CAGIC,aAHJ,CAOIjB,KAPJ,CAGIiB,aAHJ,CAIIC,WAJJ,CAOIlB,KAPJ,CAIIkB,WAJJ,CAKIC,YALJ,CAOInB,KAPJ,CAKImB,YALJ,CAMIC,UANJ,CAOIpB,KAPJ,CAMIoB,UANJ,CASA,GAAMC,CAAAA,OAAO,CAAGf,IAAI,CAACgB,MAArB,CACA,GAAMC,CAAAA,YAAY,CAAG,6DAAgB,oBAAM,CAACnB,QAAP,EAAhB,uBA9DjBA,QA8DiB,8QAAiC,CAACA,QAAD,CAAjC,CAArB,CACA,GAAMoB,CAAAA,QAAQ,CAAG,0CAAe,KAAf,CAAjB,CACA,GAAMC,CAAAA,oBAAoB,CAAG,0CAAe,CAAf,CAA7B,CACA,GAAMC,CAAAA,iBAAiB,CAAG,0CAAe,CAAf,CAA1B,CAEA,GAAMC,CAAAA,WAAW,CAAG1B,eAAM2B,WAAN,+BACfC,OADe,CACEC,UADF,CAC8B,CAE1C,GAAMC,CAAAA,QAAQ,+BAAIC,UAAJ,CAA4B,CAEtC,GAAIA,UAAJ,CAAgB,CACZF,UAAU,EAAI,mCAAQA,UAAR,GAAd,CACH,CACJ,CALa,yBApEAA,UAoEA,SApERG,8BAoEQ,kUAAd,CAOA,GAAMC,CAAAA,oBAAyC,CAAG,CAC9CC,IAAI,CAAE,QADwC,CAE9CC,MAAM,CAAE,CACJC,QAAQ,CAAEzB,uBADN,CAEJ0B,MAAM,CAAEC,kBAAOC,YAFX,CAFsC,CAAlD,CAQA,MAAO,yCAAkB3B,aAAlB,OAAkBA,aAAlB,CAAmCqB,oBAAnC,EACHL,OADG,CAEHE,QAFG,CAAP,CAIH,CAtBe,sBA9DJE,8BA8DI,yBAvDRrB,uBAuDQ,sBAtDV2B,kBAAOC,YAsDG,oBAnDfC,oCAmDe,eAnDG5B,aAmDH,+rBAuBhB,CAACD,uBAAD,CAA0BC,aAA1B,CAvBgB,CAApB,CA0BA,GAAM6B,CAAAA,aAAa,CAAGzC,eAAM2B,WAAN,+BACjBE,UADiB,CACW,CAEzB,GAAMa,CAAAA,MAAM,CAAG5B,WAAW,CAAC6B,KAA3B,CACA,GAAMC,CAAAA,QAAQ,CAAGnB,iBAAiB,CAACkB,KAAnC,CACA,GAAI,CAACrC,aAAL,CAAoB,CAChB,GAAIC,WAAJ,CAAiB,CACb,GAAMsC,CAAAA,QAAQ,CACVC,IAAI,CAACC,KAAL,CAAW,CAACL,MAAM,CAAGE,QAAQ,CAAG,GAArB,EAA4B7B,IAAvC,EAA+CA,IADnD,CAEAD,WAAW,CAAC6B,KAAZ,CAAoBjB,WAAW,CAACmB,QAAD,CAAWhB,UAAX,CAA/B,CACA,OACH,CACDf,WAAW,CAAC6B,KAAZ,CAAoB,qCAAU,CAC1BC,QAAQ,CAARA,QAD0B,CAE1BI,YAAY,CAAE,KAFY,CAAV,CAApB,CAIA,OACH,CACD,GAAMC,CAAAA,IAAI,CAAGH,IAAI,CAACC,KAAL,CAAW,CAACjC,WAAW,CAAC6B,KAAb,CAAqB5B,IAAhC,CAAb,CACA,GAAMmC,CAAAA,YAAY,CAAGJ,IAAI,CAACC,KAAL,CACjB,EAAEjC,WAAW,CAAC6B,KAAZ,CAAoBlB,iBAAiB,CAACkB,KAAxC,EAAiD5B,IADhC,CAArB,CAGA,GAAIoC,CAAAA,SAAS,CAAGL,IAAI,CAACM,GAAL,CACZH,IAAI,CAAG,CADK,CAEZH,IAAI,CAACO,GAAL,CAASJ,IAAI,CAAG,CAAhB,CAAmBC,YAAnB,CAFY,CAAhB,CAIA,GAAI,CAACzC,QAAL,CAAe,CACX0C,SAAS,CAAGL,IAAI,CAACM,GAAL,CAAShC,OAAO,CAAG,CAAnB,CAAsB0B,IAAI,CAACO,GAAL,CAAS,CAAT,CAAYF,SAAZ,CAAtB,CAAZ,CACH,CAEDrC,WAAW,CAAC6B,KAAZ,CAAoBjB,WAAW,CAAC,CAACyB,SAAD,CAAapC,IAAd,CAAoBc,UAApB,CAA/B,CACH,CA/BiB,0BAnExBf,WAmEwB,mBA1E8BW,iBA0E9B,eAzFnBnB,aAyFmB,aAxFlBC,WAwFkB,MAnEqBQ,IAmErB,aAnEJW,WAmEI,WAlFF4B,gCAkFE,UAvEnB7C,QAuEmB,SAtEDW,OAsEC,s8BAgClB,CACIX,QADJ,CAEIiB,WAFJ,CAGIZ,WAHJ,CAIIW,iBAJJ,CAKIV,IALJ,CAMIK,OANJ,CAOId,aAPJ,CAQIC,WARJ,CAhCkB,CAAtB,CA4CA,GAAMgD,CAAAA,QAAQ,CAAGvD,eAAM2B,WAAN,+BACZI,UADY,CACY,CAErB,GAAIA,UAAJ,CAAgB,CACZR,QAAQ,CAACoB,KAAT,CAAiB,KAAjB,CACA1B,WAAW,EAAI,mCAAQA,WAAR,GAAf,CACH,CACJ,CAPY,uBAvIjBM,QAuIiB,aAtIMN,WAsIN,SAtIFe,8BAsIE,qWAQb,CAACf,WAAD,CAAcM,QAAd,CARa,CAAjB,CAWA,GAAMiC,CAAAA,WAAW,CAAGxD,eAAM2B,WAAN,gCAAwB,CAExCJ,QAAQ,CAACoB,KAAT,CAAiB,IAAjB,CACA7B,WAAW,CAAC6B,KAAZ,CAAoB,qCAChB,CAAEC,QAAQ,CAAEnB,iBAAiB,CAACkB,KAA9B,CADgB,mBAEhB,YAACZ,UAAD,QAAgBwB,CAAAA,QAAQ,CAACxB,UAAD,CAAxB,EAFgB,uBAvJbwB,QAuJa,qSAApB,CAIH,CAPmB,uBAnJtBhC,QAmJsB,aAlJtBT,WAkJsB,WAlJFwC,gCAkJE,mBAjJV7B,iBAiJU,UAhJL8B,QAgJK,sbAOjB,CAACA,QAAD,CAAW9B,iBAAiB,CAACkB,KAA7B,CAAoCpB,QAApC,CAA8CT,WAA9C,CAPiB,CAApB,CASA,GAAM2C,CAAAA,aAAa,CAAGzD,eAAM2B,WAAN,gCAAwB,CAE1C,GAAIJ,QAAQ,CAACoB,KAAb,CAAoB,CAChB,OACH,CAED,GAAI7B,WAAW,CAAC6B,KAAZ,CAAoB,CAAxB,CAA2B,CACvB,GAAInB,oBAAoB,CAACmB,KAArB,CAA6B,CAAjC,CAAoC,CAChCa,WAAW,GACX,OACH,CACD,GAAI,CAAC/C,QAAL,CAAe,CACXK,WAAW,CAAC6B,KAAZ,CAAoBjB,WAAW,CAAC,CAAD,CAA/B,CACA,OACH,CACJ,CAED,GAAIZ,WAAW,CAAC6B,KAAZ,CAAoB,EAAE,CAACvB,OAAO,CAAG,CAAX,EAAgBL,IAAlB,CAAxB,CAAiD,CAC7C,GAAIS,oBAAoB,CAACmB,KAArB,CAA6B,CAAjC,CAAoC,CAChCa,WAAW,GACX,OACH,CACD,GAAI,CAAC/C,QAAL,CAAe,CACXK,WAAW,CAAC6B,KAAZ,CAAoBjB,WAAW,CAAC,EAAE,CAACN,OAAO,CAAG,CAAX,EAAgBL,IAAlB,CAAD,CAA/B,CACA,OACH,CACJ,CACJ,CA3BqB,uBA5JpBQ,QA4JoB,aArIpBT,WAqIoB,sBA3IlBU,oBA2IkB,aA1IpBgC,WA0IoB,UAtIjB/C,QAsIiB,aArIAiB,WAqIA,SArIeN,OAqIf,MArI8BL,IAqI9B,0pBA2BnB,CACCQ,QAAQ,CAACoB,KADV,CAEC7B,WAFD,CAGCM,OAHD,CAICL,IAJD,CAKCS,oBAAoB,CAACmB,KALtB,CAMClC,QAND,CAOC+C,WAPD,CAQC9B,WARD,CA3BmB,CAAtB,CAsCA,iEACI,oBAAMZ,CAAAA,WAAW,CAAC6B,KAAlB,EADJ,0BAnMG7B,WAmMH,wTAEU,CACF,GAAI,CAACR,aAAL,CAAoB,CAChBmD,aAAa,GAChB,CACJ,CANL,4BAlMGnD,aAkMH,eAjMAmD,aAiMA,qTAOI,CAACnD,aAAD,CAAgBmD,aAAhB,CAPJ,EAUA,GAAMC,CAAAA,sBAAsB,CAAG,qDAI3B,CACIC,OAAO,+BAAGC,CAAH,CAAMC,GAAN,CAAc,CACjBtC,QAAQ,CAACoB,KAAT,CAAiB,IAAjB,CACAkB,GAAG,CAACC,UAAJ,CAAiB,IAAjB,CACA9C,aAAa,EAAI,mCAAQA,aAAR,GAAjB,CACA6C,GAAG,CAACR,GAAJ,CAAU,CAACjC,OAAO,CAAG,CAAX,EAAgBL,IAA1B,CACA8C,GAAG,CAACE,SAAJ,CAAgBjD,WAAW,CAAC6B,KAA5B,CACH,CANM,uBAjNjBpB,QAiNiB,eA/MQP,aA+MR,SA/MAgB,8BA+MA,SA9MNZ,OA8MM,MA9MSL,IA8MT,aA7MDD,WA6MC,0bADX,CAQIkD,QAAQ,+BAAGC,CAAH,CAAMJ,GAAN,CAAc,CAClB,GAAIA,GAAG,CAACC,UAAR,CAAoB,CAChBD,GAAG,CAACC,UAAJ,CAAiB,KAAjB,CACA,2CAAgBhD,WAAhB,EACH,CACDS,QAAQ,CAACoB,KAAT,CAAiB,IAAjB,CACA,GAAQuB,CAAAA,YAAR,CAAuCD,CAAvC,CAAQC,YAAR,CAAsBC,YAAtB,CAAuCF,CAAvC,CAAsBE,YAAtB,CACA,GAAIC,CAAAA,cAAc,CAAG9C,YAAY,CAACqB,KAAb,CACfuB,YADe,CAEfC,YAFN,CAIA,GACI,CAAC1D,QAAD,GACCK,WAAW,CAAC6B,KAAZ,CAAoB,CAApB,EAAyB7B,WAAW,CAAC6B,KAAZ,CAAoB,CAACkB,GAAG,CAACR,GADnD,CADJ,CAGE,CACE,GAAMgB,CAAAA,QAAQ,CAAGvD,WAAW,CAAC6B,KAAZ,CAAoB,CAApB,CAAwB,CAAxB,CAA4B,CAACkB,GAAG,CAACR,GAAlD,CACA,GAAMiB,CAAAA,KAAK,CAAGD,QAAQ,CAAGR,GAAG,CAACE,SAA7B,CACA,GAAMQ,CAAAA,OAAO,CAAGH,cAAc,CAAGE,KAAjC,CACAxD,WAAW,CAAC6B,KAAZ,CAAoB0B,QAAQ,CAAGE,OAAO,CAAG,GAAzC,CACA,OACH,CAEDzD,WAAW,CAAC6B,KAAZ,CAAoBkB,GAAG,CAACE,SAAJ,CAAgBK,cAApC,CACH,CAvBO,8BAtNhBI,sCAsNgB,aApMlB1D,WAoMkB,UAnNlBS,QAmNkB,cA9MGD,YA8MH,UA5Mbb,QA4Ma,+xBARZ,CAgCIgE,KAAK,+BAAGR,CAAH,CAAS,CACV,GAAQS,CAAAA,SAAR,CAA6DT,CAA7D,CAAQS,SAAR,CAAmBC,SAAnB,CAA6DV,CAA7D,CAAmBU,SAAnB,CAA8BT,YAA9B,CAA6DD,CAA7D,CAA8BC,YAA9B,CAA4CC,YAA5C,CAA6DF,CAA7D,CAA4CE,YAA5C,CACA1C,iBAAiB,CAACkB,KAAlB,CAA0BrB,YAAY,CAACqB,KAAb,CACpB+B,SADoB,CAEpBC,SAFN,CAGAnD,oBAAoB,CAACmB,KAArB,CAA6BrB,YAAY,CAACqB,KAAb,CACvBuB,YADuB,CAEvBC,YAFN,CAIA1B,aAAa,CAACxB,WAAD,CAAb,CAEA,GAAI,CAACR,QAAL,CAAe,CACXc,QAAQ,CAACoB,KAAT,CAAiB,KAAjB,CACH,CACJ,CAdI,gCA1OflB,iBA0Oe,cAzOcH,YAyOd,sBAzOfE,oBAyOe,eAxOfiB,aAwOe,aAxODxB,WAwOC,UAtOVR,QAsOU,UArObc,QAqOa,goBAhCT,CAJ2B,CAoD3B,CACIjB,aADJ,CAEIgB,YAAY,CAACqB,KAFjB,CAGIlC,QAHJ,CAIIW,OAJJ,CAKIL,IALJ,CAMIR,WANJ,CAOIS,aAPJ,CAQIC,WARJ,CApD2B,CAA/B,CAgEA,GAAM2D,CAAAA,cAAc,CAAG5E,eAAM6E,OAAN,CAAc,UAAM,CACvC,MAAO1E,CAAAA,QAAQ,CAAG2E,MAAM,CAACC,iBAAV,CAA8BD,MAAM,CAACE,eAApD,CACH,CAFsB,CAEpB,CAAC7E,QAAD,CAFoB,CAAvB,CAIA,MACI,8BAAC,8BAAD,CAAU,IAAV,EACI,KAAK,CAAE,CAAC2E,MAAM,CAACG,SAAR,CAAmBL,cAAnB,CAAmCxE,KAAnC,CADX,CAEI,YAAY,CAAEc,YAFlB,CAGI,UAAU,CAAEC,UAHhB,8EAKI,6BAAC,4CAAD,0BACQX,sBADR,EAEI,OAAO,CAAEK,OAFb,CAGI,cAAc,CAAE6C,sBAHpB,gFAKK3D,KAAK,CAACmF,QALX,CALJ,CADJ,CAeH,CA5PD,CA8PO,GAAMC,CAAAA,iBAAiB,CAAGrF,kBAA1B,C,4CAEP,GAAMgF,CAAAA,MAAM,CAAGM,wBAAWC,MAAX,CAAkB,CAC7BJ,SAAS,CAAE,CACPK,IAAI,CAAE,CADC,CAEPC,QAAQ,CAAE,QAFH,CADkB,CAK7BP,eAAe,CAAE,CACbQ,aAAa,CAAE,QADF,CALY,CAQ7BT,iBAAiB,CAAE,CACfS,aAAa,CAAE,KADA,CARU,CAAlB,CAAf","sourcesContent":["import React from 'react';\nimport { StyleProp, StyleSheet, ViewStyle } from 'react-native';\nimport {\n    PanGestureHandler,\n    PanGestureHandlerGestureEvent,\n} from 'react-native-gesture-handler';\nimport Animated, {\n    cancelAnimation,\n    runOnJS,\n    useAnimatedGestureHandler,\n    useAnimatedReaction,\n    useDerivedValue,\n    useSharedValue,\n    withDecay,\n} from 'react-native-reanimated';\nimport { Easing } from './constants';\nimport { CTX } from './store';\nimport type { WithTimingAnimation } from './types';\nimport { dealWithAnimation } from './utils/dealWithAnimation';\n\ntype GestureContext = {\n    validStart: boolean;\n    panOffset: number;\n    max: number;\n};\n\ninterface Props {\n    size: number;\n    infinite?: boolean;\n    onScrollBegin?: () => void;\n    onScrollEnd?: () => void;\n    onTouchBegin?: () => void;\n    onTouchEnd?: () => void;\n    style?: StyleProp<ViewStyle>;\n    translation: Animated.SharedValue<number>;\n}\n\nconst IScrollViewGesture: React.FC<Props> = (props) => {\n    const {\n        props: {\n            vertical,\n            style,\n            data,\n            pagingEnabled,\n            snapEnabled,\n            panGestureHandlerProps,\n            loop: infinite,\n            scrollAnimationDuration,\n            withAnimation,\n            enabled,\n        },\n    } = React.useContext(CTX);\n\n    const {\n        translation,\n        size,\n        onScrollBegin,\n        onScrollEnd,\n        onTouchBegin,\n        onTouchEnd,\n    } = props;\n\n    const maxPage = data.length;\n    const isHorizontal = useDerivedValue(() => !vertical, [vertical]);\n    const touching = useSharedValue(false);\n    const scrollEndTranslation = useSharedValue(0);\n    const scrollEndVelocity = useSharedValue(0);\n\n    const _withSpring = React.useCallback(\n        (toValue: number, onFinished?: () => void) => {\n            'worklet';\n            const callback = (isFinished: boolean) => {\n                'worklet';\n                if (isFinished) {\n                    onFinished && runOnJS(onFinished)();\n                }\n            };\n\n            const defaultWithAnimation: WithTimingAnimation = {\n                type: 'timing',\n                config: {\n                    duration: scrollAnimationDuration,\n                    easing: Easing.easeOutQuart,\n                },\n            };\n\n            return dealWithAnimation(withAnimation ?? defaultWithAnimation)(\n                toValue,\n                callback\n            );\n        },\n        [scrollAnimationDuration, withAnimation]\n    );\n\n    const endWithSpring = React.useCallback(\n        (onFinished?: () => void) => {\n            'worklet';\n            const origin = translation.value;\n            const velocity = scrollEndVelocity.value;\n            if (!pagingEnabled) {\n                if (snapEnabled) {\n                    const nextPage =\n                        Math.round((origin + velocity * 0.4) / size) * size;\n                    translation.value = _withSpring(nextPage, onFinished);\n                    return;\n                }\n                translation.value = withDecay({\n                    velocity,\n                    deceleration: 0.999,\n                });\n                return;\n            }\n            const page = Math.round(-translation.value / size);\n            const velocityPage = Math.round(\n                -(translation.value + scrollEndVelocity.value) / size\n            );\n            let finalPage = Math.min(\n                page + 1,\n                Math.max(page - 1, velocityPage)\n            );\n            if (!infinite) {\n                finalPage = Math.min(maxPage - 1, Math.max(0, finalPage));\n            }\n\n            translation.value = _withSpring(-finalPage * size, onFinished);\n        },\n        [\n            infinite,\n            _withSpring,\n            translation,\n            scrollEndVelocity,\n            size,\n            maxPage,\n            pagingEnabled,\n            snapEnabled,\n        ]\n    );\n\n    const onFinish = React.useCallback(\n        (isFinished: boolean) => {\n            'worklet';\n            if (isFinished) {\n                touching.value = false;\n                onScrollEnd && runOnJS(onScrollEnd)();\n            }\n        },\n        [onScrollEnd, touching]\n    );\n\n    const activeDecay = React.useCallback(() => {\n        'worklet';\n        touching.value = true;\n        translation.value = withDecay(\n            { velocity: scrollEndVelocity.value },\n            (isFinished) => onFinish(isFinished as boolean)\n        );\n    }, [onFinish, scrollEndVelocity.value, touching, translation]);\n\n    const resetBoundary = React.useCallback(() => {\n        'worklet';\n        if (touching.value) {\n            return;\n        }\n\n        if (translation.value > 0) {\n            if (scrollEndTranslation.value < 0) {\n                activeDecay();\n                return;\n            }\n            if (!infinite) {\n                translation.value = _withSpring(0);\n                return;\n            }\n        }\n\n        if (translation.value < -((maxPage - 1) * size)) {\n            if (scrollEndTranslation.value > 0) {\n                activeDecay();\n                return;\n            }\n            if (!infinite) {\n                translation.value = _withSpring(-((maxPage - 1) * size));\n                return;\n            }\n        }\n    }, [\n        touching.value,\n        translation,\n        maxPage,\n        size,\n        scrollEndTranslation.value,\n        infinite,\n        activeDecay,\n        _withSpring,\n    ]);\n\n    useAnimatedReaction(\n        () => translation.value,\n        () => {\n            if (!pagingEnabled) {\n                resetBoundary();\n            }\n        },\n        [pagingEnabled, resetBoundary]\n    );\n\n    const panGestureEventHandler = useAnimatedGestureHandler<\n        PanGestureHandlerGestureEvent,\n        GestureContext\n    >(\n        {\n            onStart: (_, ctx) => {\n                touching.value = true;\n                ctx.validStart = true;\n                onScrollBegin && runOnJS(onScrollBegin)();\n                ctx.max = (maxPage - 1) * size;\n                ctx.panOffset = translation.value;\n            },\n            onActive: (e, ctx) => {\n                if (ctx.validStart) {\n                    ctx.validStart = false;\n                    cancelAnimation(translation);\n                }\n                touching.value = true;\n                const { translationX, translationY } = e;\n                let panTranslation = isHorizontal.value\n                    ? translationX\n                    : translationY;\n\n                if (\n                    !infinite &&\n                    (translation.value > 0 || translation.value < -ctx.max)\n                ) {\n                    const boundary = translation.value > 0 ? 0 : -ctx.max;\n                    const fixed = boundary - ctx.panOffset;\n                    const dynamic = panTranslation - fixed;\n                    translation.value = boundary + dynamic * 0.5;\n                    return;\n                }\n\n                translation.value = ctx.panOffset + panTranslation;\n            },\n            onEnd: (e) => {\n                const { velocityX, velocityY, translationX, translationY } = e;\n                scrollEndVelocity.value = isHorizontal.value\n                    ? velocityX\n                    : velocityY;\n                scrollEndTranslation.value = isHorizontal.value\n                    ? translationX\n                    : translationY;\n\n                endWithSpring(onScrollEnd);\n\n                if (!infinite) {\n                    touching.value = false;\n                }\n            },\n        },\n        [\n            pagingEnabled,\n            isHorizontal.value,\n            infinite,\n            maxPage,\n            size,\n            snapEnabled,\n            onScrollBegin,\n            onScrollEnd,\n        ]\n    );\n\n    const directionStyle = React.useMemo(() => {\n        return vertical ? styles.contentHorizontal : styles.contentVertical;\n    }, [vertical]);\n\n    return (\n        <Animated.View\n            style={[styles.container, directionStyle, style]}\n            onTouchStart={onTouchBegin}\n            onTouchEnd={onTouchEnd}\n        >\n            <PanGestureHandler\n                {...panGestureHandlerProps}\n                enabled={enabled}\n                onGestureEvent={panGestureEventHandler}\n            >\n                {props.children}\n            </PanGestureHandler>\n        </Animated.View>\n    );\n};\n\nexport const ScrollViewGesture = IScrollViewGesture;\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        overflow: 'hidden',\n    },\n    contentVertical: {\n        flexDirection: 'column',\n    },\n    contentHorizontal: {\n        flexDirection: 'row',\n    },\n});\n"]}